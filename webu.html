
<!--

Application For FITC's WebU:
http://fitc.ca/article/women-of-webu/
 
-->

<!DOCTYPE html>
<html>
<head>
<title>Woman of WebU </title>
<link rel="stylesheet" type="text/css" href="webu.css">
<script src="snap.svg-min.js"></script>
<script>



window.onload = function () {

	width = window.innerWidth;
	height = window.innerHeight;
	var time = 0;
	var s = Snap(width, height);


	var M0 = "M" + width*0.1 + " " + height*0.1;
	var V1 = "V" + height*0.8;
	var H2 = "H" + width*0.9;
	var M1 = "M" + width*0.9 + " " + height*0.1;
	var M2 = "M" + width*0.1 + " " + height*0.8;
	var L1 = "L" + width*0.5 + " " + height*0.5;
	var L2 = "L" + width*0.4 + " " + height*0.4;
	var M3 = "M" + width*0.9 + " " + height*0.8;
	var L3 = "L" + width*0.6 + " " + height*0.4;
	var envelope = s.path(M0 + V1 + M1 + V1 + M2 + H2);
	var top_line = s.path(M0 + H2);  

	top_line.attr({
			stroke: "#000",
			strokeWidth: 4,
		});

	var flap_down = s.path(M0 + L1 + "Z" + M1 + L1);
	var len = envelope.getTotalLength();
	var M00 = "M" + width*0.5 + " " + height*0.5;
	var L00 = "L" + width*0.1 + " " + height*0.1;
	var L11 = "L" + width*0.9 + " " + height*0.1;

	var flap_downW= s.path(M00 + L00 + "Z" + L11 + "Z" + M0 + H2);

	var back = s.path(M2 + L2 + M3 + L3);

	envelope.attr({
			stroke: "#000",
			strokeWidth: 4,
		});

	var letter = s.g(envelope, back);
	var send_text = s.text((width*0.5)-(526/2),height*0.4, "WOMEN OF WEBU INITIATIVE");
	var small_print = s.text((width*0.5)-(171/2), height*0.45,"This page is best viewed at 1200px X 550px.").attr({
			fontSize:10
		});

	send_text.attr({
		fontFamily: "Verdana",
		stroke: "#000",
		strokeWidth: 3,
		fontSize: 30,
		letterSpacing: 3
	});

	var red_line = s.line(width*0.8, height*0.1, width*0.2, height*0.1);
	var fitc = s.image("fitc.png", (width*0.5)-77/2, (height*0.5)-76/2).attr({opacity:0});

	var midline = "L" + width*0.5 + " " + height*0.8;
	var b_left = "M" + width*0.1 + " " + height*0.8;
	var left = s.path(M0 + V1 + "Z" + b_left + midline);
	var right = s.path(M1 + V1 + "Z" + M3 + midline);
	var polaroid = "1";
	var myTspans = "1";
	var hide_back = function(event) {
		s.stop();
		if (myTspans != "1") {
			myTspans.attr({opacity:0});
		}
		red_line.attr({opacity:0});
		BR_group.attr({opacity:100});
		send_text.attr({opacity: 100});

		back.attr({opacity: 0});
		flap_down.attr({opacity: 0});
		flap_downW.attr({opacity:0});
		fitc.attr({opacity: 0});
		left.attr({opacity:0});
		right.attr({opacity:0});
		polaroid.attr({opacity:0});

		if (polaroid!="1") {
			polaroid.remove();
		}


		
	}


	var flip = function(event) {
		s.stop();
		if (myTspans != "1") {
			myTspans.attr({opacity:0});
		}
		small_print.animate({y:height*0.040}, 1000);
		red_line.attr({opacity:0});
		left.attr({opacity:0});
		right.attr({opacity:0});
		if (polaroid!="1") {
			polaroid.remove();
			
		}
		
		send_text.attr({opacity: 0});
		flap_downW.attr({opacity:0});
		BR_group.attr({opacity:100});
		var fitc_pos = (height*0.5)-76/2;
		back.attr({
			stroke: "#000",
			strokeWidth: 4,
			opacity: 100
		});

		flap_down.attr({
			stroke: "#000",
			strokeWidth: 4,
			opacity: 100
		});

		

		fitc.attr({
			y: fitc_pos,
			opacity: 100
		});


		fitc.click(open_letter);

	}
		

	var open_letter = function(event) {
		small_print.animate({y:height*0.040}, 1000);
		send_text.attr({opacity:0});
		fitc.attr({opacity:100});
		BR_group.animate({opacity:0}, 1000, mina.easeout);

		flap_downW.attr({
		  stroke: '#feddcb',
		  strokeWidth: 6, 
		  "stroke-dasharray": len + " " + len,
		  "stroke-dashoffset": len,
		  opacity: 100

		}).animate({"stroke-dashoffset": 10}, 5000,mina.easeout);

		back.attr({
		  stroke: '#feddcb',
		  strokeWidth: 6, 
		  "stroke-dasharray": len + " " + len,
		  "stroke-dashoffset": len,
		  opacity: 100

		}).animate({"stroke-dashoffset": 10}, 7000,mina.easeout);

		red_line.animate({stroke:"#EE0000", strokeWidth: 1, opacity:100}, 10000);
		fitc.animate({y: width*0.02}, 4000);



		left.attr({
		  stroke: '#feddcb',
		  strokeWidth: 6, 
		  "stroke-dasharray": len + " " + len,
		  "stroke-dashoffset": len,
		  opacity: 100

		}).animate({"stroke-dashoffset": 10}, 5000,mina.easeout);

		right.attr({
		  stroke: '#feddcb',
		  strokeWidth: 6,
		  "stroke-dasharray": len + " " + len,
		  "stroke-dashoffset": len,
		  opacity: 100

		}).animate({"stroke-dashoffset": 10}, 5000,mina.easeout);

		polaroid = s.image("polaroid.png", (width*0.2), height*0.15).attr({opacity:0});
		polaroid.attr({fill:'none'}).animate({opacity:100}, 120000, mina.easeout);

		writeText(s);

		nav0.attr({opacity:0});
		nav1.attr({opacity:0});
		nav2.attr({opacity:0});

		var nav3= s.circle(width*0.8,height*0.9,5).attr({
		fill: "#000",
		});
		nav3.hover(reload, hide_reload);
		nav3.click(reload_page);
}

	var hover_text = s.text(width*0.454, height*0.88, "Click to View Front of Envelope").attr({opacity:0, fontSize: 8, strokeWidth: 0.5, fontFamily: "Verdana"});

	var hover_text1 = s.text(width*0.454, height*0.88, "Click to View Back of Envelope").attr({opacity:0, fontSize: 8, strokeWidth: 0.5, fontFamily: "Verdana"});
	var hover_text2 = s.text(width*0.465, height*0.88, "Click to Open Envelope").attr({opacity:0, fontSize: 8, strokeWidth: 0.5, fontFamily: "Verdana"});

	var reload_text2 = s.text(width*0.77, height*0.88, "Click to Reload").attr({opacity:0, fontSize: 8, strokeWidth: 0.5, fontFamily: "Verdana"});

	var front = function(event) {
		hover_text.attr({opacity:60});

	}

	var show_back = function(event) {
		hover_text1.attr({opacity:60});

	}

	var open = function(event) {
		hover_text2.attr({opacity:60});

	}

	var reload = function(event) {
		reload_text2.attr({opacity:60});
	}

	var hide_front = function(event) {
		hover_text.attr({opacity:0});
	}

	var hide_b = function(event) {
		hover_text1.attr({opacity:0});
	}	

	var hide_open = function(event) {
		hover_text2.attr({opacity:0});
	}

	var hide_reload = function(event) {
		reload_text2.attr({opacity:0});
	}

	var reload_page = function(event) {
		location.reload();
	}

	var nav0= s.circle(width*0.46,height*0.9,5).attr({
		fill: "#000",
	});
	nav0.hover(front, hide_front);
	nav0.click(hide_back);

	var nav1= s.circle(width*0.5,height*0.9,5).attr({
		fill: "#000",
	});;
	nav1.hover(show_back, hide_b);
	nav1.click(flip);

	var nav2= s.circle(width*0.54, height*0.9,5).attr({
		fill: "#000",
	});;
	nav2.hover(open, hide_open);
	nav2.click(open_letter);




	var offset = 0.14;
	var count = 1;
	var dash_pos = 0.100;
	var BR_group = s.g();
	while (offset < 0.75) {


	var D0 = "M" + width*(dash_pos + 0.02) + " " + height*(offset+0.01);
	var DL0 = "L" + width*(dash_pos + 0.01) + " " + height*offset;
	var DL1 = "L" + width*(dash_pos + 0.01) + " " + height*(offset+0.03);
	var DL2 = "L" + width*(dash_pos + 0.02) + " " + height*(offset+0.04);
	var dash = s.path(D0 + DL0 + DL1 + DL2);
	BR_group.add(dash);

	if (count%2==0) {
		dash.attr({
			fill: "#104E8B",
			stroke: "#104E8B",
			strokeWidth: 1
		});
	} else {
		dash.attr({
			fill: "#EE0000",
			stroke: "#EE0000",
			strokeWidth: 1
		});

	}
	count = count + 1;
	offset = offset + 0.06;

	if (count==12) {
		offset = 0.14;
		dash_pos = 0.870;

	} 
}


};


//Attribution: http://jsfiddle.net/WFPRk/1/
function writeText(s) {

var myCharArray, textElArray, myTrans;
var offsetY = height*0.25;

var myTextStringArray = ["My name is Lia, and I am a writer.", "I write words.","I write code.", 
"I write lines, on any blank canvas.", "I have spent most of my adult life deep in the trenches of STEM,",
"telling myself that I can do it:",
"that I can be rational", "that I can think with reason,",
" and that I have the ability to do math.",
"And now I have convinced myself, but somewhere along the way,",
"I have lost a little piece of myself.",
"The dreamer, the artist, the girl.",
"I want to go to FITC's Web Unleashed,",
"because I AM a woman of WebU.",
"I want to marry the tech with the art",
"I want to discover my passion."];

var myGroup = s.g().attr({ fill: "black", "font-size": "20px" });
var text_x = width*0.5;
for( var a=0; a<myTextStringArray.length; a++) {

	myCharArray = myTextStringArray[a].split('');
	textElArray = myGroup.text(text_x, offsetY, myCharArray).attr({ opacity : 1, y: (a * 20 + offsetY) });
	

}

myTspans = myGroup.selectAll("tspan").attr({
    	opacity: 0
});

function animFunc( element ) {
	Snap.animate(0,1, function( value ) {
		element.attr({ opacity: value, rotate: (value * 360) });
	}, 3000, mina.easeout );
}

for( var i=0; i < myTspans.length; i++ ) {
	setTimeout( 
			animFunc.bind(null, myTspans[i]) 
		, i * 100);
}

//end attribution
   
}

</script>

</head>
<body>

</body>
</html>